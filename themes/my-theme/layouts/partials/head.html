<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <title>~/on-the-road</title>
    {{/* <title>{{ block "title" . }}{{ .Title }}{{ end }}</title> */}}

    {{- /* Meta */}}
    <meta charset="utf-8">
    <meta name="description" content="Ladder@{{- with .Description }}{{ . }}{{- else }}{{- if or .IsPage .IsSection}}
    {{- .Summary | default (printf " %s - %s" .Title site.Title) }}{{- else }} {{- with site.Params.description }}{{ .
        }}{{- end }}{{- end }}{{- end -}}">
    <meta name="author" content="{{ site.Params.author }}">
    <link rel="canonical"
        href="{{ if .Params.canonicalURL -}} {{ trim .Params.canonicalURL " " }} {{- else -}} {{ .Permalink }} {{- end }}">

    {{ if hugo.IsServer }}
    {{ $cssFile := (dict "targetPath" "css/main.css" ) }}
    {{ $styles := resources.Get "/scss/index.scss" | toCSS $cssFile }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" media="screen">
    {{ else }}
    {{ $cssFile := (dict "targetPath" "css/main.css" ) }}
    {{ $styles := resources.Get "/scss/index.scss" | toCSS $cssFile | minify | fingerprint }}
    <link rel="stylesheet" href="{{ $styles.RelPermalink }}" integrity="{{ $styles.Data.Integrity }}"
        crossorigin="anonymous" media="screen" />
    {{ end }}

    {{/* auto space */}}
    <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/pangu@4.0.7/dist/browser/pangu.min.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pangu/4.0.7/pangu.min.js"></script>
</head>

<script>
    pangu.spacingElementById('main');
    pangu.spacingElementByClassName('comment');
    pangu.spacingElementByTagName('p');
    document.addEventListener('DOMContentLoaded', () => {
        // listen to any DOM change and automatically perform spacing via MutationObserver()
        pangu.autoSpacingPage();
    });

    document.addEventListener("DOMContentLoaded", function() {
        const summaries = document.querySelectorAll('.post-card-summary');
        const maxLength = 140; // 设置最大字数
    
        summaries.forEach(summary => {
            console.log(summary.textContent.length)
            if (summary.textContent.length > maxLength) {
                summary.textContent = summary.textContent.substring(0, maxLength-1) + ' ...';
            }
        });
    });
</script>